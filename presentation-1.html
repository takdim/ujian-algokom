<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bicubic Interpolation & Heat Equation - Presentasi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/night.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <style>
        .reveal {
            font-size: 28px;
        }
        .reveal h1 { font-size: 2em; color: #42affa; margin: 15px 0; }
        .reveal h2 { font-size: 1.4em; color: #51d88a; margin: 10px 0; }
        .reveal h3 { font-size: 1.1em; color: #ffa07a; margin: 8px 0; }
        
        .formula-box {
            background: rgba(255,255,255,0.1);
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #42affa;
        }
        
        .code-container {
            text-align: left;
            font-size: 0.5em;
            max-height: 380px;
            overflow-y: auto;
        }
        
        .comparison-table {
            font-size: 0.6em;
            width: 100%;
            margin: 10px 0;
        }
        
        .comparison-table td, .comparison-table th {
            padding: 6px;
            border: 1px solid #555;
        }
        
        .comparison-table th {
            background: rgba(66, 175, 250, 0.3);
        }
        
        .grid-visualization {
            display: inline-block;
            margin: 20px;
        }
        
        .grid-cell {
            width: 40px;
            height: 40px;
            border: 1px solid #666;
            display: inline-block;
            text-align: center;
            line-height: 40px;
            margin: 2px;
            font-size: 0.6em;
        }
        
        .highlight-cell {
            background: rgba(66, 175, 250, 0.5);
            font-weight: bold;
        }
        
        canvas {
            border: 2px solid #42affa;
            margin: 10px;
            background: #000;
        }
        
        .step-diagram {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            text-align: left;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 12px;
            border-radius: 8px;
            margin: 6px;
            display: inline-block;
            min-width: 150px;
        }
        
        .metric-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #fff;
        }
        
        .metric-label {
            font-size: 0.65em;
            color: #ddd;
        }

        .animation-container {
            position: relative;
            width: 100%;
            height: 400px;
            margin: 20px 0;
        }

        .kernel-plot {
            width: 100%;
            height: 350px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            font-size: 0.8em;
        }

        .feature-list {
            text-align: left;
            font-size: 0.8em;
        }

        .feature-list li {
            margin: 10px 0;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            
            <!-- SLIDE 1: Title -->
            <section>
                <h1>üî¨ Parallel Computing</h1>
                <h2>Bicubic Interpolation & Heat Equation</h2>
                <p style="font-size: 0.8em; color: #888;">Implementasi dengan OpenMP</p>
                <p style="font-size: 0.6em; margin-top: 50px;">Tekan ‚Üí atau Space untuk melanjutkan</p>
            </section>

            <!-- ============ BAGIAN 1: BICUBIC INTERPOLATION ============ -->
            <section>
                <section>
                    <h1>Part 1</h1>
                    <h2>üñºÔ∏è Bicubic Interpolation</h2>
                    <p>Image Upscaling dengan Kualitas Tinggi</p>
                </section>

                <!-- Konsep Bicubic -->
                <section>
                    <h2>Apa itu Bicubic Interpolation?</h2>
                    <div class="two-column" style="font-size: 0.85em;">
                        <div>
                            <h3 style="font-size: 1em;">üìñ Definisi</h3>
                            <p style="font-size: 0.85em; text-align: left; margin: 8px 0;">
                                Metode interpolasi untuk memperkirakan nilai piksel baru saat memperbesar gambar (image resize/upscaling), 
                                menggunakan <strong>16 piksel tetangga</strong> (grid 4√ó4) dengan bobot kubik polynomial.
                            </p>
                            <div style="background: rgba(66,175,250,0.2); padding: 8px; border-radius: 4px; margin-top: 8px; font-size: 0.8em; text-align: left;">
                                <strong>Mengapa Bicubic?</strong><br>
                                ‚Ä¢ Bilinear (4) ‚Üí cepat tapi blur<br>
                                ‚Ä¢ <strong>Bicubic (16) ‚Üí smooth & tajam</strong><br>
                                ‚Ä¢ Lanczos (36) ‚Üí sangat lambat
                            </div>
                        </div>
                        <div>
                            <h3 style="font-size: 1em;">üéØ Aplikasi</h3>
                            <ul class="feature-list" style="font-size: 0.85em; line-height: 1.4;">
                                <li>üì∑ Photo Enlargement</li>
                                <li>üé¨ Video Upscaling</li>
                                <li>üè• Medical Imaging</li>
                                <li>üéÆ Texture Filtering</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Fungsi Code -->
                <section>
                    <h2>Fungsi Code: Image Resize 4√ó Lipat</h2>
                    <div style="text-align: left; font-size: 0.65em; max-width: 900px; margin: auto;">
                        <div class="formula-box">
                            <h3 style="font-size: 1em;">üìä Spesifikasi Resize</h3>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px; font-size: 0.95em;">
                                <div>
                                    <p style="margin: 3px 0;"><strong>Input:</strong> 1000√ó1000</p>
                                    <p style="margin: 3px 0;"><strong>Output:</strong> 4000√ó4000</p>
                                    <p style="margin: 3px 0;"><strong>Scale:</strong> 4.0√ó</p>
                                </div>
                                <div>
                                    <p style="margin: 3px 0;"><strong>Method:</strong> Bicubic</p>
                                    <p style="margin: 3px 0;"><strong>Threads:</strong> 8 (OpenMP)</p>
                                    <p style="margin: 3px 0;"><strong>Pixels:</strong> 16M</p>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 12px; background: rgba(81,216,138,0.1); padding: 10px; border-radius: 6px;">
                            <h3 style="font-size: 0.95em; margin: 0 0 5px 0;">‚ö° Karakteristik:</h3>
                            <ul style="margin: 3px 0; font-size: 0.9em; line-height: 1.4;">
                                <li><strong>Compute-intensive:</strong> ~100+ ops/pixel</li>
                                <li><strong>Parallel:</strong> Embarrassingly parallel</li>
                                <li><strong>Quality:</strong> Smooth, edge preservation</li>
                                <li><strong>Memory:</strong> 16 reads + 1 write/pixel</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Formula Matematika -->
                <section>
                    <h2>Formula Matematika: Cubic Kernel</h2>
                    <div class="formula-box" style="font-size: 0.85em;">
                        <h3 style="font-size: 1em; margin: 5px 0;">Catmull-Rom (a = -0.5)</h3>
                        <div style="font-size: 0.9em;">
                            <p style="margin: 5px 0;">Untuk <strong>|x| ‚â§ 1</strong>:</p>
                            <div id="formula1" style="margin: 5px 0;"></div>
                            <code style="background: rgba(255,255,255,0.05); padding: 4px 8px; border-radius: 4px; font-size: 0.85em;">w(x) = 1.5|x|¬≥ - 2.5|x|¬≤ + 1</code>
                            
                            <p style="margin: 8px 0 5px 0;">Untuk <strong>1 < |x| < 2</strong>:</p>
                            <div id="formula2" style="margin: 5px 0;"></div>
                            <code style="background: rgba(255,255,255,0.05); padding: 4px 8px; border-radius: 4px; font-size: 0.85em;">w(x) = -0.5|x|¬≥ + 2.5|x|¬≤ - 4|x| + 2</code>
                            
                            <p style="margin: 8px 0 5px 0;">Untuk <strong>|x| ‚â• 2</strong>: <span id="formula3" style="display: inline;"></span> (tidak berkontribusi)</p>
                        </div>
                    </div>
                </section>

                <!-- Formula Interpolasi 2D -->
                <section>
                    <h2>Formula Interpolasi 2D</h2>
                    <div class="formula-box" style="font-size: 0.85em;">
                        <h3 style="font-size: 1em;">Weighted Sum dari 16 Tetangga</h3>
                        <div id="formula2d" style="margin: 12px 0; font-size: 0.95em;"></div>
                        <div style="font-size: 0.75em; text-align: left; margin-top: 10px;">
                            <strong style="color: #51d88a;">Dimana:</strong>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 5px; font-size: 0.9em;">
                                <div>
                                    <p style="margin: 2px 0;">‚Ä¢ <strong>x_int, y_int</strong> = koordinat integer</p>
                                    <p style="margin: 2px 0;">‚Ä¢ <strong>u, v</strong> = fractional parts</p>
                                    <p style="margin: 2px 0;">‚Ä¢ <strong>m, n</strong> = offset (-1,0,1,2)</p>
                                </div>
                                <div>
                                    <p style="margin: 2px 0;">‚Ä¢ <strong>I(x,y)</strong> = nilai piksel</p>
                                    <p style="margin: 2px 0;">‚Ä¢ <strong>w()</strong> = cubic_weight</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Cara Kerja Step-by-Step -->
                <section>
                    <h2>Cara Kerja - Step by Step</h2>
                    <div class="step-diagram">
                        <h3>Step 1: Coordinate Mapping</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            src_x = x / SCALE<br>
                            src_y = y / SCALE
                        </code>
                    </div>
                    <div class="step-diagram">
                        <h3>Step 2: Find 4√ó4 Neighborhood</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            x_int = floor(src_x)<br>
                            y_int = floor(src_y)<br>
                            u = src_x - x_int  // fractional part
                        </code>
                    </div>
                </section>

                <section>
                    <h2>Cara Kerja - Step by Step (lanjutan)</h2>
                    <div class="step-diagram">
                        <h3>Step 3: Calculate Weights</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            for (m = -1 to 2) {<br>
                            &nbsp;&nbsp;for (n = -1 to 2) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;w_x = cubic_weight(n - u)<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;w_y = cubic_weight(m - v)<br>
                            &nbsp;&nbsp;}<br>
                            }
                        </code>
                    </div>
                    <div class="step-diagram">
                        <h3>Step 4: Weighted Sum</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            result = Œ£(pixel[i] √ó w_x[i] √ó w_y[i])
                        </code>
                    </div>
                </section>

                <!-- Grid Visualization -->
                <section>
                    <h2>4√ó4 Sampling Window</h2>
                    <div id="gridVisualization" style="margin: 30px 0;"></div>
                    <p style="font-size: 0.7em;">
                        Setiap piksel output memerlukan <strong>16 tetangga</strong> dari gambar sumber
                    </p>
                </section>

                <!-- Perbandingan Metode -->
                <section>
                    <h2>Perbandingan Metode Interpolasi</h2>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Metode</th>
                                <th>Tetangga</th>
                                <th>Operasi/Pixel</th>
                                <th>Kualitas</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Nearest Neighbor</td>
                                <td>1</td>
                                <td>~2</td>
                                <td>‚≠ê</td>
                            </tr>
                            <tr>
                                <td>Bilinear</td>
                                <td>4</td>
                                <td>~9</td>
                                <td>‚≠ê‚≠ê‚≠ê</td>
                            </tr>
                            <tr style="background: rgba(66, 175, 250, 0.2);">
                                <td><strong>Bicubic</strong></td>
                                <td><strong>16</strong></td>
                                <td><strong>~100+</strong></td>
                                <td><strong>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</strong></td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="font-size: 0.6em; margin-top: 20px;">
                        üí° Bicubic 11√ó lebih compute-intensive, tapi menghasilkan edge yang lebih smooth
                    </p>
                </section>

                <!-- Demo Interaktif Bicubic -->
                <section>
                    <h2>üéØ Demo Interaktif: Bicubic</h2>
                    <div style="display: flex; justify-content: center; align-items: flex-start; gap: 15px; font-size: 0.6em;">
                        <div>
                            <h3 style="font-size: 1em; margin: 5px 0;">Grid 10√ó10</h3>
                            <canvas id="sourceCanvas" width="280" height="280" style="cursor: crosshair; border: 2px solid #42affa;"></canvas>
                            <p style="font-size: 0.9em; margin-top: 5px; color: #51d88a;">üëÜ Klik untuk interpolasi</p>
                        </div>
                        <div style="text-align: left; max-width: 350px;">
                            <h3 style="font-size: 1em; margin: 5px 0;">üìä Detail Interpolasi</h3>
                            <div id="interpDetails" style="background: rgba(0,0,0,0.4); padding: 10px; border-radius: 6px; max-height: 360px; overflow-y: auto; border: 1px solid #444;">
                                <div style="text-align: center; padding: 20px; color: #888;">
                                    <p style="font-size: 1.1em; margin: 5px 0;">üëà Klik pada grid</p>
                                    <p style="font-size: 0.9em; margin: 5px 0;">untuk melihat:</p>
                                    <div style="margin-top: 15px; text-align: left;">
                                        <p style="margin: 3px 0;">‚úì Posisi interpolasi</p>
                                        <p style="margin: 3px 0;">‚úì 16 tetangga & bobot</p>
                                        <p style="margin: 3px 0;">‚úì Hasil akhir</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Contoh Perhitungan Manual -->
                <section>
                    <h2>üìù Contoh Perhitungan Manual</h2>
                    <div style="font-size: 0.55em; text-align: left; max-height: 520px; overflow-y: auto;">
                        <div class="formula-box" style="padding: 8px;">
                            <h3 style="font-size: 1em; margin: 3px 0;">Skenario: Posisi (3.5, 4.7)</h3>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 5px; font-size: 0.95em;">
                                <div>
                                    <strong>Step 1: Integer & Fractional</strong>
                                    <code style="display: block; background: #1e1e1e; padding: 5px; border-radius: 3px; font-size: 0.9em; margin-top: 3px;">
                                        x_int=3, y_int=4<br>
                                        u=0.5, v=0.7
                                    </code>
                                </div>
                                <div>
                                    <strong>Step 2: Grid 4√ó4</strong>
                                    <p style="margin: 3px 0; font-size: 0.9em;">Center: (3,4)<br>Range: [2-5] √ó [3-6]</p>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(66,175,250,0.1); padding: 12px; border-radius: 8px; margin-top: 15px;">
                            <h3 style="font-size: 1.1em; margin-top: 0;">üîç Detail: Neighbor di m=0, n=0 ‚Üí Posisi (3, 4)</h3>
                            <div style="background: #1e1e1e; padding: 10px; border-radius: 5px; margin: 8px 0;">
                                <p style="margin: 3px 0;"><strong>Hitung w_x:</strong></p>
                                <code>
                                    w_x = cubic_weight(n - u) = cubic_weight(0 - 0.5) = cubic_weight(0.5)<br>
                                    <span style="color: #51d88a;">// Karena 0.5 ‚â§ 1.0, gunakan formula pertama:</span><br>
                                    w_x = 1.5 √ó 0.5¬≥ - 2.5 √ó 0.5¬≤ + 1<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;= 1.5 √ó 0.125 - 2.5 √ó 0.25 + 1<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;= 0.1875 - 0.625 + 1<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;= <strong style="color: #42affa;">0.5625</strong>
                                </code>
                            </div>
                            <div style="background: #1e1e1e; padding: 10px; border-radius: 5px; margin: 8px 0;">
                                <p style="margin: 3px 0;"><strong>Hitung w_y:</strong></p>
                                <code>
                                    w_y = cubic_weight(m - v) = cubic_weight(0 - 0.7) = cubic_weight(0.7)<br>
                                    w_y = 1.5 √ó 0.7¬≥ - 2.5 √ó 0.7¬≤ + 1<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;= 1.5 √ó 0.343 - 2.5 √ó 0.49 + 1<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;= 0.5145 - 1.225 + 1<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;= <strong style="color: #42affa;">0.2895</strong>
                                </code>
                            </div>
                            <div style="background: #1e1e1e; padding: 10px; border-radius: 5px; margin: 8px 0;">
                                <p style="margin: 3px 0;"><strong>Weight Total & Contribution:</strong></p>
                                <code>
                                    weight = w_x √ó w_y = 0.5625 √ó 0.2895 = <strong style="color: #42affa;">0.1628</strong><br>
                                    <span style="color: #888;">// Jika piksel di (3,4) bernilai 150:</span><br>
                                    contribution = 150 √ó 0.1628 = <strong style="color: #51d88a;">24.42</strong>
                                </code>
                            </div>
                        </div>
                        <p style="font-size: 1.1em; text-align: center; margin-top: 15px; color: #ffa07a;">
                            üîÅ <strong>Ulangi untuk 15 tetangga lainnya, lalu jumlahkan!</strong>
                        </p>
                    </div>
                </section>

                <!-- Source Code -->
                <section>
                    <h2>Source Code - Kernel Function</h2>
                    <div class="code-container">
                        <pre><code class="language-c">// Rumus Kernel Kubik (Catmull-Rom Spline dengan a = -0.5)
double cubic_weight(double x) {
    double a = -0.5;
    x = fabs(x); // Nilai absolut

    if (x <= 1.0) {
        return (a + 2.0) * x * x * x - (a + 3.0) * x * x + 1.0;
    } else if (x < 2.0) {
        return a * x * x * x - 5.0 * a * x * x + 8.0 * a * x - 4.0 * a;
    }
    return 0.0;
}</code></pre>
                    </div>
                </section>

                <section>
                    <h2>Source Code - Main Algorithm</h2>
                    <div class="code-container">
                        <pre><code class="language-c">// Loop untuk setiap piksel di gambar HASIL
#pragma omp parallel for collapse(2)
for (int y = 0; y < new_h; y++) {
    for (int x = 0; x < new_w; x++) {
        
        // 1. Petakan koordinat hasil ke koordinat sumber
        double src_x = x / SCALE;
        double src_y = y / SCALE;

        // 2. Cari koordinat integer terdekat
        int x_int = (int)src_x;
        int y_int = (int)src_y;

        // 3. Hitung selisih jarak
        double u = src_x - x_int;
        double v = src_y - y_int;

        double final_value = 0.0;

        // 4. LOOP 4x4 (16 Tetangga)
        for (int m = -1; m <= 2; m++) {
            for (int n = -1; n <= 2; n++) {
                float val = get_pixel(src_img, SRC_W, SRC_H, 
                                      x_int + n, y_int + m);
                double w_x = cubic_weight(n - u);
                double w_y = cubic_weight(m - v);
                final_value += val * (w_x * w_y);
            }
        }
        
        dst_img[y * new_w + x] = (float)final_value;
    }
}</code></pre>
                    </div>
                </section>

                <!-- Analisis Kompleksitas -->
                <section>
                    <h2>üìä Analisis Kompleksitas</h2>
                    <div style="font-size: 0.55em;">
                        <div class="formula-box" style="padding: 8px;">
                            <h3 style="font-size: 1em; margin: 5px 0;">Operasi Per Piksel</h3>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: left;">
                                <div>
                                    <p style="margin: 3px 0; font-size: 0.95em;"><strong>Memory Access:</strong></p>
                                    <ul style="margin: 2px 0; font-size: 0.9em; line-height: 1.3;">
                                        <li>16 reads + 1 write = <strong>17</strong></li>
                                    </ul>
                                    <p style="margin: 5px 0 2px 0; font-size: 0.95em;"><strong>Arithmetic Ops:</strong></p>
                                    <ul style="margin: 2px 0; font-size: 0.9em; line-height: 1.3;">
                                        <li>32√ó cubic_weight (~6 ops each)</li>
                                        <li>16√ó multiply (weights)</li>
                                        <li>16√ó multiply (pixel √ó weight)</li>
                                        <li>15√ó add (accumulation)</li>
                                    </ul>
                                </div>
                                <div>
                                    <p style="margin: 3px 0; font-size: 0.95em;"><strong>cubic_weight():</strong></p>
                                    <ul style="margin: 2px 0; font-size: 0.9em; line-height: 1.3;">
                                        <li>1√ó abs() + 3√ó mul + 2-3√ó add</li>
                                    </ul>
                                    <p style="margin: 8px 0 3px 0; font-size: 0.95em;"><strong>Total:</strong></p>
                                    <div style="background: rgba(66,175,250,0.25); padding: 6px; border-radius: 4px;">
                                        <p style="font-size: 1.4em; margin: 2px 0; font-weight: bold; color: #42affa;">~127 FLOPs</p>
                                        <p style="font-size: 0.85em; color: #ddd; margin: 2px 0;">(vs Bilinear ~9)</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 10px; background: rgba(255,165,0,0.1); padding: 8px; border-radius: 6px;">
                            <h3 style="margin: 3px 0; font-size: 1em;">üíæ Compute Intensity</h3>
                            <div style="background: #1e1e1e; padding: 6px; border-radius: 4px; font-family: monospace; font-size: 0.85em; line-height: 1.4;">
                                Intensity = 127 FLOPs / 68 bytes<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚âà <strong style="color: #51d88a;">1.87 FLOP/byte</strong>
                            </div>
                            <p style="margin: 5px 0; text-align: center; font-size: 1em;">
                                üî• <strong style="color: #42affa;">COMPUTE BOUND</strong>
                                <span style="font-size: 0.8em; color: #888; display: block; margin-top: 2px;">(Kalkulasi > Memori)</span>
                            </p>
                        </div>
                    </div>
                </section>

                <!-- Paralelisasi OpenMP -->
                <section>
                    <h2>‚ö° Paralelisasi dengan OpenMP</h2>
                    <div style="font-size: 0.7em; text-align: left;">
                        <div class="formula-box">
                            <h3>Strategi: Embarrassingly Parallel</h3>
                            <div class="code-container" style="max-height: 300px;">
                                <pre><code class="language-c">// Collapse 2 nested loops untuk distribusi kerja optimal
#pragma omp parallel for collapse(2)
for (int y = 0; y < new_h; y++) {
    for (int x = 0; x < new_w; x++) {
        // Setiap thread mengerjakan subset piksel
        // NO DATA DEPENDENCY antar piksel!
        // ‚Üí Perfect parallelization
        
        double src_x = x / SCALE;
        double src_y = y / SCALE;
        
        // ... interpolation code ...
        
        dst_img[y * new_w + x] = final_value;
    }
}</code></pre>
                            </div>
                        </div>
                        
                        <div class="two-column" style="margin-top: 20px; gap: 10px; font-size: 0.95em;">
                            <div style="background: rgba(81,216,138,0.1); padding: 12px; border-radius: 8px;">
                                <h3 style="font-size: 1.1em; margin-top: 0;">‚úÖ Mengapa Efektif?</h3>
                                <ul style="margin: 5px 0;">
                                    <li><strong>No dependency:</strong> Setiap piksel independen</li>
                                    <li><strong>Read-only source:</strong> Tidak ada race condition</li>
                                    <li><strong>Uniform workload:</strong> Load balanced otomatis</li>
                                    <li><strong>Collapse(2):</strong> Distribusi lebih merata</li>
                                </ul>
                            </div>
                            <div style="background: rgba(255,165,0,0.1); padding: 12px; border-radius: 8px;">
                                <h3 style="font-size: 1.1em; margin-top: 0;">üìä Speedup Estimasi</h3>
                                <table style="width: 100%; font-size: 0.9em;">
                                    <tr><td>Threads</td><td>Ideal</td><td>Actual</td><td>Efficiency</td></tr>
                                    <tr style="background: rgba(255,255,255,0.05);"><td>2</td><td>2.0√ó</td><td>1.9√ó</td><td>95%</td></tr>
                                    <tr><td>4</td><td>4.0√ó</td><td>3.6√ó</td><td>90%</td></tr>
                                    <tr style="background: rgba(255,255,255,0.05);"><td>8</td><td>8.0√ó</td><td>6.8√ó</td><td>85%</td></tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Experimental Performance Analysis -->
                <section>
                    <h2>üìä Hasil Eksperimen: Scaling Analysis</h2>
                    <div style="font-size: 0.65em;">
                        <h3 style="font-size: 1em; margin: 10px 0;">Tabel Performa (1000√ó1000 ‚Üí 4000√ó4000)</h3>
                        <table class="comparison-table" style="font-size: 1em; max-width: 800px; margin: 10px auto;">
                            <thead>
                                <tr style="background: rgba(66,175,250,0.4);">
                                    <th style="padding: 8px;">Threads</th>
                                    <th style="padding: 8px;">Waktu Eksekusi</th>
                                    <th style="padding: 8px;">Speedup</th>
                                    <th style="padding: 8px;">Efisiensi</th>
                                    <th style="padding: 8px;">Throughput</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="text-align: center;">1</td>
                                    <td style="text-align: center;">6.1077 s</td>
                                    <td style="text-align: center; font-weight: bold;">1.00√ó</td>
                                    <td style="text-align: center;">100.0%</td>
                                    <td style="text-align: center;">2.62 Mpix/s</td>
                                </tr>
                                <tr style="background: rgba(81,216,138,0.1);">
                                    <td style="text-align: center;">2</td>
                                    <td style="text-align: center;">2.9584 s</td>
                                    <td style="text-align: center; font-weight: bold; color: #51d88a;">2.06√ó</td>
                                    <td style="text-align: center; color: #51d88a;">103.2%</td>
                                    <td style="text-align: center;">5.41 Mpix/s</td>
                                </tr>
                                <tr>
                                    <td style="text-align: center;">4</td>
                                    <td style="text-align: center;">2.4817 s</td>
                                    <td style="text-align: center; font-weight: bold;">2.46√ó</td>
                                    <td style="text-align: center;">61.5%</td>
                                    <td style="text-align: center;">6.45 Mpix/s</td>
                                </tr>
                                <tr>
                                    <td style="text-align: center;">8</td>
                                    <td style="text-align: center;">2.3540 s</td>
                                    <td style="text-align: center; font-weight: bold;">2.59√ó</td>
                                    <td style="text-align: center;">32.4%</td>
                                    <td style="text-align: center;">6.80 Mpix/s</td>
                                </tr>
                            </tbody>
                        </table>
                        <p style="font-size: 0.85em; margin-top: 8px; color: #888;">
                            üí° Speedup = T‚ÇÅ/T‚Çô | Efisiensi = (Speedup/N)√ó100% | Throughput = 16M pixels / waktu
                        </p>
                    </div>
                </section>

                <!-- Speedup Visualization -->
                <section>
                    <h2>üìà Visualisasi: Actual vs Ideal Speedup</h2>
                    <div style="max-width: 900px; margin: 20px auto; height: 500px;">
                        <canvas id="bicubicSpeedupChart" style="background: rgba(0,0,0,0.3); border-radius: 8px;"></canvas>
                    </div>
                    <div style="font-size: 0.65em; margin-top: 15px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; max-width: 700px; margin: auto;">
                            <div style="background: rgba(66,175,250,0.15); padding: 8px; border-radius: 6px; border-left: 3px solid #42affa;">
                                <strong style="color: #42affa;">‚îÅ‚îÅ Ideal Linear:</strong> Perfect scaling (2T‚Üí2√ó, 4T‚Üí4√ó, 8T‚Üí8√ó)
                            </div>
                            <div style="background: rgba(255,99,132,0.15); padding: 8px; border-radius: 6px; border-left: 3px solid #ff6384;">
                                <strong style="color: #ff6384;">‚îÅ‚îÅ Actual Measured:</strong> Real-world performance
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Deep Analysis -->
                <section>
                    <h2>üî¨ Analisis Mendalam: Fenomena Performa</h2>
                    <div style="font-size: 0.6em; text-align: left; max-width: 900px; margin: auto;">
                        <div style="background: rgba(81,216,138,0.15); padding: 12px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #51d88a;">
                            <h3 style="font-size: 1.1em; margin: 5px 0; color: #51d88a;">üöÄ Superlinear Speedup (2 Threads)</h3>
                            <p style="margin: 5px 0; line-height: 1.5;">
                                <strong>Observasi:</strong> Efisiensi 103.2% (Speedup 2.06√ó dengan 2 thread)<br>
                                <strong>Penyebab:</strong>
                            </p>
                            <ul style="margin: 5px 0 5px 15px; line-height: 1.5;">
                                <li><strong>Cache Efficiency:</strong> Working set per-thread (8M pixels) muat dalam L3 cache (12MB typical), mengurangi cache miss rate drastis</li>
                                <li><strong>CPU Turbo Boost:</strong> 1 thread aktif ‚Üí CPU boost ke clock speed lebih tinggi (misal 4.2 GHz vs 3.8 GHz base)</li>
                                <li><strong>Memory Bandwidth:</strong> Dual-channel memory dimanfaatkan optimal oleh 2 thread tanpa contention</li>
                                <li><strong>Compute Bound Nature:</strong> Algoritma bicubic (127 FLOPs/pixel) lebih bottleneck di compute daripada memory</li>
                            </ul>
                            <p style="margin: 5px 0; color: #51d88a; font-weight: bold;">
                                ‚úì Indikator kuat bahwa bicubic adalah <strong>COMPUTE BOUND</strong>, bukan memory bound
                            </p>
                        </div>

                        <div style="background: rgba(255,165,0,0.15); padding: 12px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #ffa07a;">
                            <h3 style="font-size: 1.1em; margin: 5px 0; color: #ffa07a;">üìâ Diminishing Returns (4-8 Threads)</h3>
                            <p style="margin: 5px 0; line-height: 1.5;">
                                <strong>Observasi:</strong> Speedup plateau di 2.46√ó (4T) dan 2.59√ó (8T)<br>
                                <strong>Penyebab:</strong>
                            </p>
                            <ul style="margin: 5px 0 5px 15px; line-height: 1.5;">
                                <li><strong>Core Saturation:</strong> Laptop dengan 4 physical cores + hyperthreading (8 logical) ‚Üí diminishing returns pada >4 threads</li>
                                <li><strong>Thermal Throttling:</strong> CPU menurunkan clock speed (thermal limit ~85-95¬∞C) saat semua cores aktif</li>
                                <li><strong>Memory Bandwidth Limit:</strong> 4-8 threads compete untuk shared memory bus (~25 GB/s)</li>
                                <li><strong>Cache Contention:</strong> L3 cache shared dibagi 8 thread ‚Üí increased miss rate</li>
                                <li><strong>OS Overhead:</strong> Context switching dan thread management overhead meningkat</li>
                            </ul>
                            <p style="margin: 5px 0; color: #ffa07a;">
                                ‚ö†Ô∏è Typical untuk <strong>laptop</strong> dengan cooling terbatas (TDP 15-45W)
                            </p>
                        </div>
                    </div>
                </section>
            </section>

            <!-- ============ BAGIAN 2: HEAT EQUATION ============ -->
            <section>
                <section>
                    <h1>Part 2</h1>
                    <h2>üî• Heat Equation</h2>
                    <p>Simulasi Difusi Panas 2D</p>
                </section>

                <!-- Konsep Heat Equation -->
                <section>
                    <h2>Apa itu Heat Equation?</h2>
                    <div class="two-column">
                        <div>
                            <h3>üìñ Definisi</h3>
                            <p style="font-size: 0.7em; text-align: left;">
                                Persamaan diferensial parsial (PDE) yang mendeskripsikan distribusi panas 
                                dalam suatu medium seiring waktu.
                            </p>
                        </div>
                        <div>
                            <h3>üéØ Aplikasi</h3>
                            <ul class="feature-list">
                                <li>üè≠ Engineering Simulation</li>
                                <li>‚òÄÔ∏è Climate Modeling</li>
                                <li>üî¨ Molecular Dynamics</li>
                                <li>üìä Image Processing</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Visualisasi Animasi Heat -->
                <section>
                    <h2>Visualisasi: Heat Diffusion</h2>
                    <canvas id="heatCanvas" width="500" height="500"></canvas>
                    <div style="margin-top: 15px; margin-bottom: 15px;">
                        <button onclick="startHeatSimulation()" style="padding: 12px 25px; font-size: 18px; cursor: pointer; background: #42affa; color: #fff; border: none; border-radius: 5px; margin: 5px; font-weight: bold;">
                            ‚ñ∂Ô∏è Jalankan Simulasi
                        </button>
                        <button onclick="resetHeatSimulation()" style="padding: 12px 25px; font-size: 18px; cursor: pointer; background: #ff6b6b; color: #fff; border: none; border-radius: 5px; margin: 5px; font-weight: bold;">
                            üîÑ Reset
                        </button>
                    </div>
                    <p style="font-size: 0.6em; color: #888;">
                        Biru = Dingin | Merah = Panas
                    </p>
                </section>
                
                <!-- Formula Heat Equation -->
                <section>
                    <h2>Formula Matematika</h2>
                    <div class="formula-box">
                        <h3>Partial Differential Equation (PDE)</h3>
                        <div id="heatPDE" style="margin: 20px 0; font-size: 1.2em;"></div>
                        
                        <h3 style="margin-top: 30px;">Discrete Form (Finite Difference)</h3>
                        <div id="heatDiscrete" style="margin: 20px 0; font-size: 0.9em;"></div>
                        
                        <p style="font-size: 0.7em; color: #888; margin-top: 20px;">
                            Œ± = thermal diffusivity, r = (Œ±¬∑Œît) / Œîx¬≤
                        </p>
                    </div>
                </section>

                <!-- 5-Point Stencil -->
                <section>
                    <h2>5-Point Stencil Pattern</h2>
                    <div id="stencilVisualization" style="margin: 30px 0;"></div>
                    <div class="formula-box" style="font-size: 0.8em;">
                        <code>u[i,j]<sup>new</sup> = u[i,j] + r √ó (u[i-1,j] + u[i+1,j] + u[i,j-1] + u[i,j+1] - 4√óu[i,j])</code>
                    </div>
                    <p style="font-size: 0.7em; margin-top: 20px;">
                        Setiap grid point bergantung pada <strong>4 tetangga</strong> (atas, bawah, kiri, kanan)
                    </p>
                </section>

                <!-- Metode Jacobi: Penjelasan Konsep -->
                <section data-background-color="#191919">
                    <h2>üéØ Metode Jacobi: Konsep Dasar</h2>
                    <div style="text-align: left; font-size: 0.75em; max-width: 950px; margin: auto;">
                        <div class="formula-box" style="background: rgba(66,175,250,0.15); border-left: 4px solid #42affa;">
                            <h3 style="color: #42affa; margin-top: 0; font-size: 1.2em;">üìñ Apa itu Metode Jacobi?</h3>
                            <p style="margin: 10px 0; line-height: 1.7;">
                                Metode Jacobi adalah <strong>algoritma iteratif</strong> untuk menyelesaikan sistem persamaan linear 
                                atau PDE dengan memperbarui semua nilai secara <strong>simultan</strong> berdasarkan nilai iterasi sebelumnya.
                            </p>
                        </div>

                        <div class="two-column" style="gap: 20px; margin-top: 20px;">
                            <div>
                                <div style="background: rgba(81,216,138,0.15); padding: 15px; border-radius: 8px; border-left: 4px solid #51d88a;">
                                    <h4 style="color: #51d88a; margin-top: 0; font-size: 1.1em;">‚ú® Prinsip Kerja</h4>
                                    <ol style="margin: 10px 0; padding-left: 20px; line-height: 1.8;">
                                        <li>Mulai dengan <strong>tebakan awal</strong> (initial guess)</li>
                                        <li>Hitung nilai baru menggunakan <strong>nilai lama</strong> tetangga</li>
                                        <li>Ulangi hingga <strong>konvergen</strong></li>
                                    </ol>
                                </div>
                            </div>
                            
                            <div>
                                <div style="background: rgba(255,165,0,0.15); padding: 15px; border-radius: 8px; border-left: 4px solid #ffa07a;">
                                    <h4 style="color: #ffa07a; margin-top: 0; font-size: 1.1em;">üéØ Karakteristik</h4>
                                    <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.8;">
                                        <li><strong>Simultan:</strong> Semua update paralel</li>
                                        <li><strong>Deterministik:</strong> Hasil konsisten</li>
                                        <li><strong>Parallel-safe:</strong> No race condition</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div style="background: rgba(66,175,250,0.2); padding: 15px; border-radius: 8px; margin-top: 20px;">
                            <p style="margin: 5px 0; font-size: 0.95em;">
                                üí° <strong>Analogi:</strong> Bayangkan sekelompok orang dalam grid. Setiap orang menyesuaikan suhu tubuhnya 
                                menjadi rata-rata dari 4 tetangga. Setelah beberapa putaran, semua suhu stabil dan terdistribusi merata!
                            </p>
                        </div>
                    </div>
                </section>

                <!-- Jacobi: Algoritma Step-by-Step -->
                <section data-background-color="#191919">
                    <h2>üìã Algoritma Jacobi: Langkah Demi Langkah</h2>
                    <div style="text-align: left; font-size: 0.7em; max-width: 950px; margin: auto;">
                        
                        <div class="step-diagram" style="margin: 12px 0;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="background: #42affa; color: #000; font-weight: bold; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.3em; flex-shrink: 0;">1</div>
                                <div style="flex: 1;">
                                    <h3 style="margin: 0; font-size: 1.1em;">Inisialisasi Grid</h3>
                                    <code style="background: #1e1e1e; padding: 10px; display: block; margin-top: 6px; border-radius: 4px; font-size: 0.95em;">
                                        T_old[semua] = 20.0¬∞C;  T_old[batas_atas] = 100.0¬∞C;
                                    </code>
                                </div>
                            </div>
                        </div>

                        <div class="step-diagram" style="margin: 12px 0;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="background: #42affa; color: #000; font-weight: bold; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.3em; flex-shrink: 0;">2</div>
                                <div style="flex: 1;">
                                    <h3 style="margin: 0; font-size: 1.1em;">Loop Iterasi (500 kali)</h3>
                                    <p style="margin: 6px 0; font-size: 0.95em;">Ulangi proses update...</p>
                                </div>
                            </div>
                        </div>

                        <div class="step-diagram" style="margin: 12px 0; margin-left: 60px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="background: #51d88a; color: #000; font-weight: bold; width: 38px; height: 38px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1em; flex-shrink: 0;">2a</div>
                                <div style="flex: 1;">
                                    <h3 style="margin: 0; font-size: 1em;">Update Semua Interior Points (PARALEL!)</h3>
                                    <code style="background: #1e1e1e; padding: 10px; display: block; margin-top: 6px; border-radius: 4px; font-size: 0.9em;">
                                        #pragma omp parallel for collapse(2)<br>
                                        for (i=1; i&lt;N-1; i++) for (j=1; j&lt;N-1; j++)<br>
                                        &nbsp;&nbsp;T_new[i][j] = 0.25 * (T_old[i-1][j] + T_old[i+1][j] +<br>
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T_old[i][j-1] + T_old[i][j+1]);
                                    </code>
                                    <p style="margin: 6px 0; font-size: 0.9em; color: #51d88a;">
                                        ‚úì Semua cell baca dari T_old ‚Üí No race condition!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="step-diagram" style="margin: 12px 0; margin-left: 60px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="background: #51d88a; color: #000; font-weight: bold; width: 38px; height: 38px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1em; flex-shrink: 0;">2b</div>
                                <div style="flex: 1;">
                                    <h3 style="margin: 0; font-size: 1em;">Pertahankan Boundary</h3>
                                    <code style="background: #1e1e1e; padding: 10px; display: block; margin-top: 6px; border-radius: 4px; font-size: 0.9em;">
                                        for (j=0; j&lt;N; j++) T_new[0][j] = 100.0;
                                    </code>
                                </div>
                            </div>
                        </div>

                        <div class="step-diagram" style="margin: 12px 0; margin-left: 60px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="background: #51d88a; color: #000; font-weight: bold; width: 38px; height: 38px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1em; flex-shrink: 0;">2c</div>
                                <div style="flex: 1;">
                                    <h3 style="margin: 0; font-size: 1em;">Swap Pointers</h3>
                                    <code style="background: #1e1e1e; padding: 10px; display: block; margin-top: 6px; border-radius: 4px; font-size: 0.9em;">
                                        temp = T_old; T_old = T_new; T_new = temp;
                                    </code>
                                    <p style="margin: 6px 0; font-size: 0.9em; color: #888;">
                                        üí° Hanya tukar pointer, tidak copy data!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="step-diagram" style="margin: 12px 0;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="background: #42affa; color: #000; font-weight: bold; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.3em; flex-shrink: 0;">3</div>
                                <div style="flex: 1;">
                                    <h3 style="margin: 0; font-size: 1.1em;">Konvergen! ‚úì</h3>
                                    <p style="margin: 6px 0; font-size: 0.95em;">Distribusi suhu mencapai steady-state</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>

                <!-- Cara Kerja Heat Equation -->
                <section data-background-color="#191919">
                    <h2>Cara Kerja - Time Stepping</h2>
                    <div class="step-diagram">
                        <h3>Step 1: Initialization</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            // Set initial temperature distribution<br>
                            u[center] = 100.0  // Hot spot<br>
                            u[others] = 20.0   // Ambient
                        </code>
                    </div>
                    <div class="step-diagram">
                        <h3>Step 2: Time Loop</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            for (t = 0; t < MAX_TIME; t++) {<br>
                            &nbsp;&nbsp;// Update all grid points<br>
                            }
                        </code>
                    </div>
                </section>

                <section>
                    <h2>Cara Kerja - Update Step</h2>
                    <div class="step-diagram">
                        <h3>Step 3: Stencil Computation</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            #pragma omp parallel for collapse(2)<br>
                            for (i = 1; i < N-1; i++) {<br>
                            &nbsp;&nbsp;for (j = 1; j < N-1; j++) {<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;laplacian = u[i-1][j] + u[i+1][j] +<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u[i][j-1] + u[i][j+1] - 4*u[i][j];<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;u_new[i][j] = u[i][j] + r * laplacian;<br>
                            &nbsp;&nbsp;}<br>
                            }
                        </code>
                    </div>
                    <div class="step-diagram">
                        <h3>Step 4: Buffer Swap</h3>
                        <code style="background: #1e1e1e; padding: 10px; display: block;">
                            swap(u, u_new)  // Prepare for next iteration
                        </code>
                    </div>
                </section>

                <!-- Source Code Heat -->
                <section>
                    <h2>Source Code - Heat Equation</h2>
                    <div class="code-container">
                        <pre><code class="language-c">// Simulasi Heat Equation 2D dengan OpenMP
#define N 512          // Grid size
#define MAX_ITER 1000  // Time steps
#define ALPHA 0.1      // Thermal diffusivity
#define DT 0.01
#define DX 1.0

int main() {
    double r = ALPHA * DT / (DX * DX);
    
    // Alokasi grid
    double **u = allocate_2d(N, N);
    double **u_new = allocate_2d(N, N);
    
    // Inisialisasi: hot spot di tengah
    init_temperature(u, N);
    
    double start = omp_get_wtime();
    
    // Time stepping loop
    for (int t = 0; t < MAX_ITER; t++) {
        #pragma omp parallel for collapse(2)
        for (int i = 1; i < N-1; i++) {
            for (int j = 1; j < N-1; j++) {
                u_new[i][j] = u[i][j] + r * (
                    u[i-1][j] + u[i+1][j] + 
                    u[i][j-1] + u[i][j+1] - 4*u[i][j]
                );
            }
        }
        swap_pointers(&u, &u_new);
    }
    
    double end = omp_get_wtime();
    printf("Time: %.4f seconds\n", end - start);
    
    return 0;
}</code></pre>
                    </div>
                </section>

                <!-- Jacobi: Keunggulan untuk Paralel -->
                <section data-background-color="#191919">
                    <h2>‚ö° Mengapa Jacobi Cocok untuk OpenMP?</h2>
                    <div style="text-align: left; font-size: 0.75em; max-width: 950px; margin: auto;">
                        <div class="two-column" style="gap: 20px; margin-top: 20px;">
                            <div>
                                <div style="background: rgba(81,216,138,0.2); padding: 15px; border-radius: 8px; border-left: 4px solid #51d88a;">
                                    <h3 style="color: #51d88a; margin-top: 0; font-size: 1.1em;">‚úÖ Kelebihan</h3>
                                    <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.9;">
                                        <li><strong>Independen per iterasi:</strong> Semua cell paralel</li>
                                        <li><strong>No race condition:</strong> Read-only source</li>
                                        <li><strong>No synchronization:</strong> Dalam satu iterasi</li>
                                        <li><strong>Load balanced:</strong> Uniform workload</li>
                                        <li><strong>Cache friendly:</strong> Sequential access</li>
                                    </ul>
                                </div>
                            </div>
                            <div>
                                <div style="background: rgba(255,175,76,0.2); padding: 15px; border-radius: 8px; border-left: 4px solid #ffaf4c;">
                                    <h3 style="color: #ffaf4c; margin-top: 0; font-size: 1.1em;">‚öñÔ∏è Trade-off</h3>
                                    <p style="margin: 8px 0; font-size: 0.95em; line-height: 1.7;">
                                        <strong>Jacobi</strong> (parallel):<br>
                                        ‚Ä¢ ‚úÖ Perfect parallelization<br>
                                        ‚Ä¢ ‚ö†Ô∏è Konvergensi lambat<br>
                                        ‚Ä¢ 2√ó memory<br><br>
                                        
                                        <strong>Gauss-Seidel</strong> (serial):<br>
                                        ‚Ä¢ ‚úÖ Konvergensi cepat<br>
                                        ‚Ä¢ ‚ùå Susah paralel<br>
                                        ‚Ä¢ Sequential dependencies
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(66,175,250,0.2); padding: 15px; border-radius: 8px; margin-top: 20px;">
                            <h3 style="color: #42affa; margin-top: 0; font-size: 1.1em;">üéØ Kesimpulan</h3>
                            <p style="margin: 8px 0; line-height: 1.7;">
                                Metode Jacobi adalah pilihan <strong>ideal untuk parallel computing</strong> dengan OpenMP. 
                                Speedup dari paralelisasi (2-3√ó) lebih dari mengkompensasi konvergensi yang lebih lambat!
                            </p>
                        </div>
                    </div>
                </section>

                <!-- Performance Heat -->
                <section data-background-color="#191919">
                    <h2>Analisis Performa</h2>
                    <div>
                        <div class="metric-card">
                            <div class="metric-value">2000√ó2000</div>
                            <div class="metric-label">Grid Size</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">500</div>
                            <div class="metric-label">Iterasi</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px;">
                        <div class="metric-card">
                            <div class="metric-value">4 juta</div>
                            <div class="metric-label">Total Cells</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">8 threads</div>
                            <div class="metric-label">OpenMP Threads</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; font-size: 0.75em; text-align: left; padding: 0 50px;">
                        <p>üî¢ <strong>Total Operasi:</strong> ~10 miliar (4M cells √ó 500 iter √ó 5 ops)</p>
                        <p>üíæ <strong>Memory Access:</strong> 5 reads + 1 write per cell</p>
                        <p>‚ö° <strong>FLOPs:</strong> 4 additions + 1 multiplication = 5 per cell</p>
                        <p>üéØ <strong>Bottleneck:</strong> Memory Bound (bandwidth limited)</p>
                    </div>
                </section>

                <!-- Eksperimen Performa: Tabel -->
                <section data-background-color="#191919">
                    <h2>üî¨ Hasil Eksperimen: Scaling Analysis</h2>
                    <div style="font-size: 0.8em; max-width: 950px; margin: auto;">
                        <table class="comparison-table" style="font-size: 0.9em; margin: 20px auto;">
                            <thead>
                                <tr style="background: rgba(66, 175, 250, 0.4);">
                                    <th style="padding: 12px;">Thread</th>
                                    <th style="padding: 12px;">Waktu Eksekusi (s)</th>
                                    <th style="padding: 12px;">Speedup</th>
                                    <th style="padding: 12px;">Efisiensi (%)</th>
                                    <th style="padding: 12px;">Status</th>
                                </tr>
                            </thead>
                            <tbody style="text-align: center;">
                                <tr>
                                    <td><strong>1</strong></td>
                                    <td>13.2595</td>
                                    <td>1.00√ó</td>
                                    <td>100.0%</td>
                                    <td style="color: #51d88a;">‚ö™ Baseline</td>
                                </tr>
                                <tr style="background: rgba(81, 216, 138, 0.15);">
                                    <td><strong>2</strong></td>
                                    <td>6.8660</td>
                                    <td><strong>1.93√ó</strong></td>
                                    <td>96.5%</td>
                                    <td style="color: #51d88a;">‚úÖ Excellent</td>
                                </tr>
                                <tr style="background: rgba(255, 175, 76, 0.15);">
                                    <td><strong>4</strong></td>
                                    <td>5.8347</td>
                                    <td><strong>2.27√ó</strong></td>
                                    <td>56.7%</td>
                                    <td style="color: #ffaf4c;">‚ö†Ô∏è Degrading</td>
                                </tr>
                                <tr style="background: rgba(255, 107, 107, 0.15);">
                                    <td><strong>8</strong></td>
                                    <td>5.8540</td>
                                    <td><strong>2.26√ó</strong></td>
                                    <td>28.2%</td>
                                    <td style="color: #ff6b6b;">‚ùå Saturated</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style="background: rgba(255,107,107,0.2); padding: 15px; border-radius: 8px; margin-top: 20px; text-align: left; border-left: 4px solid #ff6b6b;">
                            <p style="margin: 5px 0; font-size: 0.9em;">
                                <strong>‚ö†Ô∏è Observasi Kunci:</strong> Dari 4 ke 8 thread, waktu eksekusi hampir tidak berubah (5.83 ‚Üí 5.85 detik)!
                                Ini menunjukkan sistem telah mencapai <strong>saturasi bandwidth memory</strong>.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- Eksperimen Performa: Grafik Speedup -->
                <section data-background-color="#191919">
                    <h2>üìä Visualisasi: Speedup Curve</h2>
                    <div style="max-width: 900px; margin: 20px auto;">
                        <canvas id="heatSpeedupChart" style="max-height: 450px; background: rgba(0,0,0,0.3); border-radius: 8px;"></canvas>
                        <div style="margin-top: 20px; font-size: 0.75em; text-align: left; padding: 0 30px;">
                            <div class="two-column" style="gap: 15px;">
                                <div style="background: rgba(66,175,250,0.15); padding: 12px; border-radius: 8px;">
                                    <p style="margin: 5px 0;"><strong style="color: #42affa;">üîµ Ideal Speedup (Linear):</strong></p>
                                    <p style="margin: 5px 0; font-size: 0.95em;">
                                        Garis diagonal sempurna - speedup = jumlah thread (1√ó, 2√ó, 4√ó, 8√ó)
                                    </p>
                                </div>
                                <div style="background: rgba(255,107,107,0.15); padding: 12px; border-radius: 8px;">
                                    <p style="margin: 5px 0;"><strong style="color: #ff6b6b;">üî¥ Actual Speedup:</strong></p>
                                    <p style="margin: 5px 0; font-size: 0.95em;">
                                        Kurva melengkung - speedup mandek di ~2.27√ó meskipun thread ditambah
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Analisis: Fase Scaling -->
                <section data-background-color="#191919">
                    <h2>üìà Analisis: Fase-Fase Scaling</h2>
                    <div style="text-align: left; font-size: 0.75em; max-width: 900px; margin: auto;">
                        
                        <div style="background: rgba(81,216,138,0.2); padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #51d88a;">
                            <h3 style="color: #51d88a; margin: 0 0 10px 0; font-size: 1.2em;">‚úÖ Fase 1: Linear Scaling (1 ‚Üí 2 Thread)</h3>
                            <p style="margin: 8px 0; line-height: 1.6;">
                                <strong>Speedup: 1.93√ó (mendekati ideal 2√ó)</strong><br>
                                ‚Ä¢ <strong>Efisiensi: 96.5%</strong> - sangat bagus!<br>
                                ‚Ä¢ Bandwidth memory masih mencukupi untuk 2 thread.<br>
                                ‚Ä¢ Kedua core dapat mengakses data secara efisien tanpa bottleneck signifikan.<br>
                                ‚Ä¢ Overhead sinkronisasi OpenMP masih minimal.
                            </p>
                        </div>

                        <div style="background: rgba(255,175,76,0.2); padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ffaf4c;">
                            <h3 style="color: #ffaf4c; margin: 0 0 10px 0; font-size: 1.2em;">‚ö†Ô∏è Fase 2: Degradasi (2 ‚Üí 4 Thread)</h3>
                            <p style="margin: 8px 0; line-height: 1.6;">
                                <strong>Speedup: 2.27√ó (jauh dari ideal 4√ó)</strong><br>
                                ‚Ä¢ <strong>Efisiensi: 56.7%</strong> - turun drastis!<br>
                                ‚Ä¢ Memory bandwidth mulai menjadi bottleneck.<br>
                                ‚Ä¢ 4 thread berlomba mengakses RAM secara bersamaan.<br>
                                ‚Ä¢ Pola akses <strong>stencil</strong> (membaca 4 tetangga per sel) memperburuk tekanan pada memory controller.
                            </p>
                        </div>

                        <div style="background: rgba(255,107,107,0.2); padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ff6b6b;">
                            <h3 style="color: #ff6b6b; margin: 0 0 10px 0; font-size: 1.2em;">‚ùå Fase 3: Saturasi Total (4 ‚Üí 8 Thread)</h3>
                            <p style="margin: 8px 0; line-height: 1.6;">
                                <strong>Speedup: 2.26√ó (STAGNAN - tidak ada peningkatan!)</strong><br>
                                ‚Ä¢ <strong>Efisiensi: 28.2%</strong> - sangat buruk!<br>
                                ‚Ä¢ <strong>Waktu hampir identik:</strong> 5.8347s vs 5.8540s (bahkan sedikit lebih lambat!)<br>
                                ‚Ä¢ Memory bandwidth telah mencapai kapasitas maksimum.<br>
                                ‚Ä¢ Menambah thread hanya menambah overhead tanpa gain performa.<br>
                                ‚Ä¢ Thread-thread saling menunggu akses memory (<strong>memory stall</strong>).
                            </p>
                        </div>
                    </div>
                </section>
            </section>

            <!-- ============ BAGIAN 3: PERBANDINGAN ============ -->
            <section data-background-color="#191919">
                <section data-background-color="#191919">
                    <h2>üìä Perbandingan: Bicubic vs Heat</h2>
                </section>

                <section data-background-color="#191919">
                    <h2>Karakteristik Komputasi</h2>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Aspek</th>
                                <th>Bicubic</th>
                                <th>Heat Equation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Pattern</strong></td>
                                <td>4√ó4 Stencil</td>
                                <td>5-Point Stencil</td>
                            </tr>
                            <tr>
                                <td><strong>Dependencies</strong></td>
                                <td>Independent</td>
                                <td>Time-dependent</td>
                            </tr>
                            <tr>
                                <td><strong>FLOPs/Point</strong></td>
                                <td>~100+</td>
                                <td>~6</td>
                            </tr>
                            <tr>
                                <td><strong>Memory Access</strong></td>
                                <td>17 (read 16, write 1)</td>
                                <td>6 (read 5, write 1)</td>
                            </tr>
                            <tr>
                                <td><strong>Intensity</strong></td>
                                <td>0.25 FLOP/byte</td>
                                <td>0.25 FLOP/byte</td>
                            </tr>
                            <tr>
                                <td><strong>Bottleneck</strong></td>
                                <td>Compute Bound</td>
                                <td>Memory Bound</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section>
                    <h2>Paralelisasi dengan OpenMP</h2>
                    <div class="two-column">
                        <div>
                            <h3>‚úÖ Keunggulan</h3>
                            <ul class="feature-list">
                                <li>Easy to implement</li>
                                <li>Directive-based (minimal code change)</li>
                                <li>Good for loop-level parallelism</li>
                                <li>Mature ecosystem</li>
                                <li>Portable across compilers</li>
                            </ul>
                        </div>
                        <div>
                            <h3>‚ö†Ô∏è Pertimbangan</h3>
                            <ul class="feature-list">
                                <li>Thread overhead</li>
                                <li>Load balancing issues</li>
                                <li>False sharing risks</li>
                                <li>Manual scheduling needed</li>
                                <li>NUMA awareness</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Expected Speedup</h2>
                    <canvas id="speedupChart" width="800" height="400"></canvas>
                    <p style="font-size: 0.7em; margin-top: 20px;">
                        Speedup = T<sub>1</sub> / T<sub>p</sub> dimana T<sub>1</sub> = serial time, T<sub>p</sub> = parallel time
                    </p>
                </section>

                <section>
                    <h2>Optimisasi Tips</h2>
                    <div class="two-column">
                        <div>
                            <h3>üöÄ Bicubic</h3>
                            <ul class="feature-list">
                                <li>Loop collapse untuk 2D parallelism</li>
                                <li>SIMD vectorization</li>
                                <li>Cache blocking</li>
                                <li>Precompute weights</li>
                            </ul>
                        </div>
                        <div>
                            <h3>üî• Heat Equation</h3>
                            <ul class="feature-list">
                                <li>Red-black ordering</li>
                                <li>Loop tiling</li>
                                <li>Ghost cell optimization</li>
                                <li>Time skewing</li>
                            </ul>
                        </div>
                    </div>
                </section>
            </section>

            <!-- SLIDE PENUTUP -->
            <section>
                <h1>Terima Kasih! üéâ</h1>
                <h2>Questions?</h2>
                <div style="margin-top: 50px; font-size: 0.7em;">
                    <p>üìÅ Source Code: bicubic.c, heat_equation.c</p>
                    <p>üîß Framework: OpenMP</p>
                    <p>üìä Visualization: HTML5 Canvas + JavaScript</p>
                </div>
            </section>

        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script>
        // Initialize Reveal.js
        Reveal.initialize({
            hash: true,
            transition: 'slide',
            controls: true,
            progress: true,
            center: true,
            slideNumber: true
        });

        // Render Math Formulas
        document.addEventListener('DOMContentLoaded', function() {
            // Bicubic formulas
            katex.render("w(x) = (a+2)|x|^3 - (a+3)|x|^2 + 1", document.getElementById('formula1'));
            katex.render("w(x) = a|x|^3 - 5a|x|^2 + 8a|x| - 4a", document.getElementById('formula2'));
            katex.render("w(x) = 0", document.getElementById('formula3'));
            
            // 2D Interpolation formula
            if (document.getElementById('formula2d')) {
                katex.render("f(x,y) = \\sum_{m=-1}^{2} \\sum_{n=-1}^{2} w(n-u) \\times w(m-v) \\times I(x_{int}+n, y_{int}+m)", document.getElementById('formula2d'));
            }
            
            // Heat equation formulas
            katex.render("\\frac{\\partial u}{\\partial t} = \\alpha \\nabla^2 u", document.getElementById('heatPDE'));
            katex.render("u_i^{n+1} = u_i^n + r(u_{i-1}^n + u_{i+1}^n + u_{i,j-1}^n + u_{i,j+1}^n - 4u_{i,j}^n)", document.getElementById('heatDiscrete'));
        });

        // Cubic weight function (shared)
        function cubicWeight(x) {
            const a = -0.5;
            x = Math.abs(x);
            if (x <= 1.0) {
                return (a + 2.0) * x * x * x - (a + 3.0) * x * x + 1.0;
            } else if (x < 2.0) {
                return a * x * x * x - 5.0 * a * x * x + 8.0 * a * x - 4.0 * a;
            }
            return 0.0;
        }

        // Draw Kernel Function
        function drawKernel() {
            const canvas = document.getElementById('kernelCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, width, height);
            
            // Draw axes
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, height/2);
            ctx.lineTo(width-50, height/2);
            ctx.moveTo(width/2, 20);
            ctx.lineTo(width/2, height-20);
            ctx.stroke();
            
            // Draw curve
            ctx.strokeStyle = '#42affa';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let px = 0; px < width; px++) {
                const x = (px - width/2) / (width/4) * 2; // -2 to 2
                const y = cubicWeight(x);
                const py = height/2 - y * (height/3);
                
                if (px === 0) ctx.moveTo(px, py);
                else ctx.lineTo(px, py);
            }
            ctx.stroke();
            
            // Labels
            ctx.fillStyle = '#fff';
            ctx.font = '14px monospace';
            ctx.fillText('-2', 50, height/2 + 20);
            ctx.fillText('-1', width/4 + 50, height/2 + 20);
            ctx.fillText('0', width/2, height/2 + 20);
            ctx.fillText('1', 3*width/4 - 50, height/2 + 20);
            ctx.fillText('2', width - 50, height/2 + 20);
            ctx.fillText('w(x)', width/2 + 10, 40);
        }

        // Interactive Bicubic Demo
        const GRID_SRC = 10;
        let sourceImage = null;

        function initSourceImage() {
            sourceImage = Array(GRID_SRC).fill(0).map((_, i) => 
                Array(GRID_SRC).fill(0).map((_, j) => {
                    // Create a pattern: checkerboard + gradient
                    const checker = ((i + j) % 2) * 50;
                    const gradient = (i * 10 + j * 10);
                    return checker + gradient;
                })
            );
        }

        function drawSourceImage() {
            const canvas = document.getElementById('sourceCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const cellSize = canvas.width / GRID_SRC;
            
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            for (let i = 0; i < GRID_SRC; i++) {
                for (let j = 0; j < GRID_SRC; j++) {
                    const val = sourceImage[i][j];
                    const color = Math.floor(val);
                    ctx.fillStyle = `rgb(${color}, ${color}, ${color})`;
                    ctx.fillRect(j * cellSize, i * cellSize, cellSize, cellSize);
                    
                    // Grid lines
                    ctx.strokeStyle = '#444';
                    ctx.strokeRect(j * cellSize, i * cellSize, cellSize, cellSize);
                    
                    // Value text
                    ctx.fillStyle = val > 128 ? '#000' : '#fff';
                    ctx.font = '12px monospace';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(Math.floor(val), (j + 0.5) * cellSize, (i + 0.5) * cellSize);
                }
            }
        }

        function getPixelSafe(img, x, y) {
            const i = Math.max(0, Math.min(GRID_SRC - 1, Math.floor(y)));
            const j = Math.max(0, Math.min(GRID_SRC - 1, Math.floor(x)));
            return img[i][j];
        }

        function performBicubicInterpolation(x, y) {
            const x_int = Math.floor(x);
            const y_int = Math.floor(y);
            const u = x - x_int;
            const v = y - y_int;
            
            let result = 0;
            const weights = [];
            
            // Loop sesuai kode C: m (outer), n (inner)
            // m = -1, 0, 1, 2 (vertikal/baris)
            // n = -1, 0, 1, 2 (horizontal/kolom)
            for (let m = -1; m <= 2; m++) {
                for (let n = -1; n <= 2; n++) {
                    // Ambil nilai piksel di posisi (x_int + n, y_int + m)
                    const px = getPixelSafe(sourceImage, x_int + n, y_int + m);
                    
                    // Hitung weight untuk x dan y
                    const w_x = cubicWeight(n - u);
                    const w_y = cubicWeight(m - v);
                    const w = w_x * w_y;
                    
                    // Akumulasi hasil
                    result += px * w;
                    
                    weights.push({ 
                        m: m, 
                        n: n, 
                        pos_x: x_int + n, 
                        pos_y: y_int + m,
                        pixel_val: px, 
                        w_x: w_x, 
                        w_y: w_y, 
                        weight: w,
                        contribution: px * w
                    });
                }
            }
            
            return { result, weights, x_int, y_int, u, v };
        }

        function setupInteractiveBicubic() {
            const canvas = document.getElementById('sourceCanvas');
            if (!canvas) return;
            
            canvas.addEventListener('click', function(e) {
                const rect = canvas.getBoundingClientRect();
                const px = e.clientX - rect.left;
                const py = e.clientY - rect.top;
                
                const cellSize = canvas.width / GRID_SRC;
                const x = px / cellSize;
                const y = py / cellSize;
                
                if (x >= 0 && x < GRID_SRC && y >= 0 && y < GRID_SRC) {
                    const data = performBicubicInterpolation(x, y);
                    displayInterpolationDetails(x, y, data);
                    highlightRegion(data.x_int, data.y_int);
                    
                    // Draw crosshair at exact position
                    const ctx = canvas.getContext('2d');
                    ctx.strokeStyle = '#ff6b6b';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.moveTo(px - 8, py);
                    ctx.lineTo(px + 8, py);
                    ctx.moveTo(px, py - 8);
                    ctx.lineTo(px, py + 8);
                    ctx.stroke();
                    
                    // Draw small circle
                    ctx.beginPath();
                    ctx.arc(px, py, 4, 0, 2 * Math.PI);
                    ctx.fillStyle = '#ff6b6b';
                    ctx.fill();
                }
            });
        }

        function highlightRegion(x_int, y_int) {
            const canvas = document.getElementById('sourceCanvas');
            const ctx = canvas.getContext('2d');
            const cellSize = canvas.width / GRID_SRC;
            
            // Redraw
            drawSourceImage();
            
            // Draw grid 4x4 untuk 16 tetangga
            for (let m = -1; m <= 2; m++) {
                for (let n = -1; n <= 2; n++) {
                    const px = x_int + n;
                    const py = y_int + m;
                    
                    if (px >= 0 && px < GRID_SRC && py >= 0 && py < GRID_SRC) {
                        // Highlight dengan warna berbeda untuk center 4 pixels
                        const isNearCenter = (m === 0 || m === 1) && (n === 0 || n === 1);
                        ctx.strokeStyle = isNearCenter ? '#51d88a' : '#42affa';
                        ctx.lineWidth = isNearCenter ? 3 : 2;
                        ctx.strokeRect(px * cellSize + 1, py * cellSize + 1, 
                                      cellSize - 2, cellSize - 2);
                    }
                }
            }
            
            // Draw interpolation point marker
            // Note: x_int, y_int are the integer parts, actual position needs offset
            // We'll draw a crosshair at the exact interpolation position
        }

        function displayInterpolationDetails(x, y, data) {
            const container = document.getElementById('interpDetails');
            if (!container) return;
            
            // Header dengan info posisi
            let html = `<div style="background: rgba(66,175,250,0.2); padding: 8px; border-radius: 4px; margin-bottom: 8px;">`;
            html += `<p style="font-size: 0.95em; margin: 2px 0;"><strong>üìç Posisi Klik:</strong> (${x.toFixed(2)}, ${y.toFixed(2)})</p>`;
            html += `<p style="font-size: 0.85em; margin: 2px 0; color: #ddd;">Integer: (${data.x_int}, ${data.y_int}) | Frac: u=${data.u.toFixed(2)}, v=${data.v.toFixed(2)}</p>`;
            html += `</div>`;
            
            // Hasil akhir yang menonjol
            html += `<div style="background: rgba(81,216,138,0.2); padding: 10px; border-radius: 6px; text-align: center; margin-bottom: 8px;">`;
            html += `<p style="font-size: 0.8em; margin: 2px 0; color: #ddd;">Hasil Interpolasi:</p>`;
            html += `<p style="font-size: 1.8em; margin: 5px 0; font-weight: bold; color: #51d88a;">${data.result.toFixed(1)}</p>`;
            html += `</div>`;
            
            // Tampilkan hanya top 8 contributors untuk simplicity
            const sortedWeights = [...data.weights].sort((a, b) => Math.abs(b.contribution) - Math.abs(a.contribution));
            const topWeights = sortedWeights.slice(0, 8);
            
            html += `<p style="font-size: 0.85em; margin: 5px 0 3px 0;"><strong>üéØ Top 8 Tetangga:</strong></p>`;
            html += `<div style="max-height: 180px; overflow-y: auto; font-size: 0.7em;">`;
            html += `<table style="width: 100%; border-collapse: collapse; font-size: 0.95em;">`;
            html += `<thead><tr style="background: rgba(66,175,250,0.3); font-size: 0.85em;">
                        <th style="padding: 3px; border: 1px solid #555;">Pos</th>
                        <th style="padding: 3px; border: 1px solid #555;">Nilai</th>
                        <th style="padding: 3px; border: 1px solid #555;">Weight</th>
                        <th style="padding: 3px; border: 1px solid #555;">Kontribusi</th>
                    </tr></thead><tbody>`;
            
            topWeights.forEach((w, idx) => {
                const bgColor = idx < 4 ? 'rgba(81,216,138,0.1)' : 'rgba(66,175,250,0.05)';
                html += `<tr style="background: ${bgColor};">
                    <td style="padding: 3px; border: 1px solid #555; text-align: center;">(${w.pos_x},${w.pos_y})</td>
                    <td style="padding: 3px; border: 1px solid #555; text-align: center;">${w.pixel_val.toFixed(0)}</td>
                    <td style="padding: 3px; border: 1px solid #555; text-align: center; font-weight: bold;">${w.weight.toFixed(3)}</td>
                    <td style="padding: 3px; border: 1px solid #555; text-align: center; color: #51d88a; font-weight: bold;">${w.contribution.toFixed(1)}</td>
                </tr>`;
            });
            
            html += `</tbody></table></div>`;
            
            // Contoh perhitungan untuk tetangga teratas
            const topWeight = topWeights[0];
            html += `<div style="background: rgba(255,165,0,0.15); padding: 6px; border-radius: 4px; font-size: 0.7em; margin-top: 8px;">`;
            html += `<p style="margin: 2px 0; font-weight: bold; color: #ffa07a;">üîç Contoh (Neighbor #1):</p>`;
            html += `<code style="font-size: 0.9em; line-height: 1.4;">`;
            html += `Posisi: (${topWeight.pos_x}, ${topWeight.pos_y})<br>`;
            html += `w_x = ${topWeight.w_x.toFixed(3)}, w_y = ${topWeight.w_y.toFixed(3)}<br>`;
            html += `weight = ${topWeight.w_x.toFixed(3)} √ó ${topWeight.w_y.toFixed(3)} = <strong>${topWeight.weight.toFixed(3)}</strong><br>`;
            html += `contrib = ${topWeight.pixel_val.toFixed(0)} √ó ${topWeight.weight.toFixed(3)} = <strong style="color: #51d88a;">${topWeight.contribution.toFixed(1)}</strong>`;
            html += `</code></div>`;
            
            // Total sum explanation
            html += `<div style="background: rgba(66,175,250,0.1); padding: 5px; border-radius: 4px; font-size: 0.65em; margin-top: 6px; text-align: center;">`;
            html += `<p style="margin: 2px 0;">üìä Final = Œ£ semua 16 kontribusi = <strong style="color: #42affa; font-size: 1.3em;">${data.result.toFixed(1)}</strong></p>`;
            html += `</div>`;
            
            container.innerHTML = html;
        }

        // Draw Grid Visualization
        function drawGrid() {
            const container = document.getElementById('gridVisualization');
            if (!container) return;
            
            let html = '<div style="display: inline-block;">';
            for (let i = 0; i < 4; i++) {
                html += '<div>';
                for (let j = 0; j < 4; j++) {
                    const isCenter = (i === 1 || i === 2) && (j === 1 || j === 2);
                    html += `<div class="grid-cell ${isCenter ? 'highlight-cell' : ''}">${i},${j}</div>`;
                }
                html += '</div>';
            }
            html += '</div>';
            container.innerHTML = html;
        }

        // Draw Stencil Pattern
        function drawStencil() {
            const container = document.getElementById('stencilVisualization');
            if (!container) return;
            
            const cells = [
                ['', '‚Üë', ''],
                ['‚Üê', 'C', '‚Üí'],
                ['', '‚Üì', '']
            ];
            
            let html = '<div style="display: inline-block;">';
            for (let i = 0; i < 3; i++) {
                html += '<div>';
                for (let j = 0; j < 3; j++) {
                    const isCenter = i === 1 && j === 1;
                    html += `<div class="grid-cell ${isCenter ? 'highlight-cell' : ''}" style="font-size: 1.5em;">${cells[i][j]}</div>`;
                }
                html += '</div>';
            }
            html += '</div>';
            container.innerHTML = html;
        }

        // Heat Simulation
        let heatAnimationId = null;
        let heatGrid = null;
        const GRID_SIZE = 64;

        function initHeatGrid() {
            heatGrid = Array(GRID_SIZE).fill(0).map(() => Array(GRID_SIZE).fill(20.0));
            // Hot spot in center
            const center = GRID_SIZE / 2;
            for (let i = center-3; i < center+3; i++) {
                for (let j = center-3; j < center+3; j++) {
                    heatGrid[i][j] = 100.0;
                }
            }
        }

        function updateHeatGrid() {
            const newGrid = Array(GRID_SIZE).fill(0).map(() => Array(GRID_SIZE).fill(0));
            const r = 0.2;
            
            for (let i = 1; i < GRID_SIZE-1; i++) {
                for (let j = 1; j < GRID_SIZE-1; j++) {
                    newGrid[i][j] = heatGrid[i][j] + r * (
                        heatGrid[i-1][j] + heatGrid[i+1][j] + 
                        heatGrid[i][j-1] + heatGrid[i][j+1] - 4*heatGrid[i][j]
                    );
                }
            }
            heatGrid = newGrid;
        }

        function drawHeatGrid() {
            const canvas = document.getElementById('heatCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const cellSize = canvas.width / GRID_SIZE;
            
            for (let i = 0; i < GRID_SIZE; i++) {
                for (let j = 0; j < GRID_SIZE; j++) {
                    const temp = heatGrid[i][j];
                    const normalized = (temp - 20) / 80; // 20-100 to 0-1
                    const r = Math.floor(normalized * 255);
                    const b = Math.floor((1-normalized) * 255);
                    ctx.fillStyle = `rgb(${r}, 0, ${b})`;
                    ctx.fillRect(j * cellSize, i * cellSize, cellSize, cellSize);
                }
            }
        }

        function startHeatSimulation() {
            if (!heatGrid) initHeatGrid();
            
            if (heatAnimationId) return;
            
            function animate() {
                updateHeatGrid();
                drawHeatGrid();
                heatAnimationId = requestAnimationFrame(animate);
            }
            animate();
        }

        function resetHeatSimulation() {
            if (heatAnimationId) {
                cancelAnimationFrame(heatAnimationId);
                heatAnimationId = null;
            }
            initHeatGrid();
            drawHeatGrid();
        }

        // Draw Speedup Chart
        function drawSpeedupChart() {
            const canvas = document.getElementById('speedupChart');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, width, height);
            
            // Axes
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(60, height-40);
            ctx.lineTo(width-40, height-40);
            ctx.moveTo(60, height-40);
            ctx.lineTo(60, 40);
            ctx.stroke();
            
            const threads = [1, 2, 4, 8];
            const idealSpeedup = [1, 2, 4, 8];
            const bicubicSpeedup = [1, 1.9, 3.6, 6.8];
            const heatSpeedup = [1, 1.8, 3.2, 5.5];
            
            const barWidth = (width - 100) / (threads.length * 3 + 1);
            
            // Draw bars
            threads.forEach((t, i) => {
                const x = 60 + (i * 3 + 0.5) * barWidth;
                const scale = (height - 80) / 8;
                
                // Ideal
                ctx.fillStyle = '#666';
                ctx.fillRect(x, height-40-idealSpeedup[i]*scale, barWidth*0.8, idealSpeedup[i]*scale);
                
                // Bicubic
                ctx.fillStyle = '#42affa';
                ctx.fillRect(x + barWidth, height-40-bicubicSpeedup[i]*scale, barWidth*0.8, bicubicSpeedup[i]*scale);
                
                // Heat
                ctx.fillStyle = '#ff6b6b';
                ctx.fillRect(x + barWidth*2, height-40-heatSpeedup[i]*scale, barWidth*0.8, heatSpeedup[i]*scale);
                
                // Label
                ctx.fillStyle = '#fff';
                ctx.font = '14px sans-serif';
                ctx.fillText(t + ' threads', x + barWidth, height-20);
            });
            
            // Legend
            ctx.fillStyle = '#666';
            ctx.fillRect(width-200, 60, 20, 20);
            ctx.fillStyle = '#fff';
            ctx.fillText('Ideal', width-170, 75);
            
            ctx.fillStyle = '#42affa';
            ctx.fillRect(width-200, 90, 20, 20);
            ctx.fillStyle = '#fff';
            ctx.fillText('Bicubic', width-170, 105);
            
            ctx.fillStyle = '#ff6b6b';
            ctx.fillRect(width-200, 120, 20, 20);
            ctx.fillStyle = '#fff';
            ctx.fillText('Heat', width-170, 135);
            
            // Y-axis label
            ctx.fillStyle = '#fff';
            ctx.font = '16px sans-serif';
            ctx.fillText('Speedup', 10, 30);
        }

        // Initialize all visualizations when slides are ready
        Reveal.on('ready', () => {
            drawKernel();
            drawGrid();
            drawStencil();
            initHeatGrid();
            drawHeatGrid();
            drawSpeedupChart();
            initSourceImage();
            drawSourceImage();
            setupInteractiveBicubic();
            
            // Render Chart.js chart after a small delay to ensure canvas is ready
            setTimeout(() => {
                drawBicubicSpeedupChart();
            }, 100);
        });

        // Also render chart when navigating to the slide
        Reveal.on('slidechanged', (event) => {
            const slideElement = event.currentSlide;
            if (slideElement && slideElement.querySelector('#bicubicSpeedupChart')) {
                setTimeout(() => {
                    drawBicubicSpeedupChart();
                }, 50);
            }
            // Check for Heat Equation speedup chart
            if (slideElement && slideElement.querySelector('#heatSpeedupChart')) {
                setTimeout(() => {
                    createHeatSpeedupChart();
                }, 50);
            }
        });

        // Draw Bicubic Speedup Chart (Chart.js)
        let bicubicChartInstance = null;
        
        function drawBicubicSpeedupChart() {
            const canvas = document.getElementById('bicubicSpeedupChart');
            if (!canvas) {
                console.log('Canvas bicubicSpeedupChart not found');
                return;
            }
            
            // Destroy existing chart if any
            if (bicubicChartInstance) {
                bicubicChartInstance.destroy();
            }
            
            const ctx = canvas.getContext('2d');
            
            // Experimental data
            const threads = [1, 2, 4, 8];
            const times = [6.1077, 2.9584, 2.4817, 2.3540];
            const actualSpeedup = times.map(t => 6.1077 / t);
            const idealSpeedup = threads.map(t => t);
            
            console.log('Creating bicubic speedup chart...', { actualSpeedup, idealSpeedup });
            
            bicubicChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: threads,
                    datasets: [
                        {
                            label: 'Ideal Speedup (Linear)',
                            data: idealSpeedup,
                            borderColor: '#42affa',
                            backgroundColor: 'rgba(66, 175, 250, 0.1)',
                            borderWidth: 3,
                            borderDash: [10, 5],
                            pointRadius: 6,
                            pointHoverRadius: 8,
                            pointBackgroundColor: '#42affa',
                            tension: 0
                        },
                        {
                            label: 'Actual Speedup (Compute-Bound)',
                            data: actualSpeedup,
                            borderColor: '#51d88a',
                            backgroundColor: 'rgba(81, 216, 138, 0.15)',
                            borderWidth: 3,
                            pointRadius: 7,
                            pointHoverRadius: 9,
                            pointBackgroundColor: '#51d88a',
                            tension: 0.3,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    aspectRatio: 2,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Bicubic Interpolation: Speedup vs Thread Count (Compute-Bound)',
                            color: '#fff',
                            font: {
                                size: 18,
                                weight: 'bold'
                            },
                            padding: 20
                        },
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                color: '#fff',
                                font: {
                                    size: 14
                                },
                                padding: 15,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: '#51d88a',
                            borderWidth: 1,
                            padding: 12,
                            displayColors: true,
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    label += context.parsed.y.toFixed(2) + '√ó';
                                    
                                    if (context.datasetIndex === 1) {
                                        const threads = context.parsed.x;
                                        const efficiency = (context.parsed.y / threads * 100).toFixed(1);
                                        label += ' (Eff: ' + efficiency + '%)';
                                        
                                        // Add status indicator
                                        if (efficiency > 90) {
                                            label += ' ‚úÖ';
                                        } else if (efficiency > 50) {
                                            label += ' ‚ö†Ô∏è';
                                        } else {
                                            label += ' ‚ùå';
                                        }
                                    }
                                    return label;
                                },
                                afterLabel: function(context) {
                                    if (context.datasetIndex === 1 && context.parsed.x === 8) {
                                        const efficiency = (context.parsed.y / 8 * 100).toFixed(1);
                                        if (efficiency > 50) {
                                            return '‚úÖ Near-ideal scaling!';
                                        }
                                    }
                                    return null;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Number of Threads',
                                color: '#fff',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#fff',
                                font: {
                                    size: 12
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Speedup Factor',
                                color: '#fff',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#fff',
                                font: {
                                    size: 12
                                },
                                callback: function(value) {
                                    return value.toFixed(1) + '√ó';
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            beginAtZero: true,
                            max: 9
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        // Heat Equation Speedup Chart
        let heatChartInstance = null;
        
        function createHeatSpeedupChart() {
            const canvas = document.getElementById('heatSpeedupChart');
            if (!canvas) {
                console.log('Heat speedup chart canvas not found, skipping');
                return;
            }
            
            // Destroy existing chart if any
            if (heatChartInstance) {
                heatChartInstance.destroy();
            }
            
            const ctx = canvas.getContext('2d');
            
            // Experimental data from Heat Equation
            const threads = [1, 2, 4, 8];
            const times = [13.2595, 6.8660, 5.8347, 5.8540];
            const actualSpeedup = times.map(t => 13.2595 / t);
            const idealSpeedup = threads.map(t => t);
            
            console.log('Creating heat equation speedup chart...', { actualSpeedup, idealSpeedup });
            
            heatChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: threads,
                    datasets: [
                        {
                            label: 'Ideal Speedup (Linear)',
                            data: idealSpeedup,
                            borderColor: '#42affa',
                            backgroundColor: 'rgba(66, 175, 250, 0.1)',
                            borderWidth: 3,
                            borderDash: [10, 5],
                            pointRadius: 6,
                            pointHoverRadius: 8,
                            pointBackgroundColor: '#42affa',
                            tension: 0
                        },
                        {
                            label: 'Actual Speedup (Memory-Bound)',
                            data: actualSpeedup,
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.15)',
                            borderWidth: 3,
                            pointRadius: 7,
                            pointHoverRadius: 9,
                            pointBackgroundColor: '#ff6b6b',
                            tension: 0.3,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Heat Equation: Speedup vs Thread Count (Memory-Bound)',
                            color: '#fff',
                            font: {
                                size: 18,
                                weight: 'bold'
                            },
                            padding: 20
                        },
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                color: '#fff',
                                font: {
                                    size: 14
                                },
                                padding: 15,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: '#ff6b6b',
                            borderWidth: 1,
                            padding: 12,
                            displayColors: true,
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    label += context.parsed.y.toFixed(2) + '√ó';
                                    
                                    if (context.datasetIndex === 1) {
                                        const threads = context.parsed.x;
                                        const efficiency = (context.parsed.y / threads * 100).toFixed(1);
                                        label += ' (Eff: ' + efficiency + '%)';
                                        
                                        // Add status indicator
                                        if (efficiency > 90) {
                                            label += ' ‚úÖ';
                                        } else if (efficiency > 50) {
                                            label += ' ‚ö†Ô∏è';
                                        } else {
                                            label += ' ‚ùå';
                                        }
                                    }
                                    return label;
                                },
                                afterLabel: function(context) {
                                    if (context.datasetIndex === 1 && context.parsed.x === 8) {
                                        return '‚ö†Ô∏è Memory bandwidth saturated!';
                                    }
                                    return null;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Number of Threads',
                                color: '#fff',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#fff',
                                font: {
                                    size: 12
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Speedup Factor',
                                color: '#fff',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                color: '#fff',
                                font: {
                                    size: 12
                                },
                                callback: function(value) {
                                    return value.toFixed(1) + '√ó';
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            beginAtZero: true,
                            max: 9
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }
    </script>
</body>
</html>
